{"version":3,"file":"discord-command.js","sourceRoot":"","sources":["../../../src/components/discord-command/discord-command.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAsB,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AACtF,OAAO,EAAE,OAAO,EAAW,QAAQ,EAAE,MAAM,eAAe,CAAC;AAC3D,OAAO,WAAW,MAAM,sBAAsB,CAAC;AAM/C,MAAM,OAAO,cAAc;;;kBAkBV,MAAM;;;;;EAoBf,MAAM;;IACZ,MAAM,MAAM,GAA8B,IAAI,CAAC,EAAE,CAAC,aAA0C,CAAC;IAE7F,IAAI,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,iBAAiB,EAAE;MACvD,MAAM,IAAI,KAAK,CAAC,gFAAgF,CAAC,CAAC;KAClG;IAED,MAAM,aAAa,GAAG,CAAC,MAAc,EAAU,EAAE,eAAC,OAAA,MAAA,MAAA,OAAO,CAAC,MAAM,CAAC,mCAAI,MAAM,mCAAI,OAAO,CAAC,OAAO,CAAA,EAAA,CAAC;IAE/F,MAAM,WAAW,GAAY,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC;IAC5H,MAAM,WAAW,GAAY,MAAA,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,mCAAI,EAAE,CAAC;IACvE,MAAM,OAAO,iDAAiB,WAAW,GAAK,WAAW,GAAK,EAAE,MAAM,EAAE,aAAa,CAAC,MAAA,WAAW,CAAC,MAAM,mCAAI,IAAI,CAAC,MAAM,CAAC,EAAE,CAAE,CAAC;IAE7H,MAAM,aAAa,GAA+B,MAAM,CAAC,aAA2C,CAAC;IAErG,OAAO,CACN,EAAC,IAAI,IAAC,KAAK,EAAC,kDAAkD;MAC5D,aAAa,CAAC,WAAW,CAAC,CAAC,CAAC,CAC5B,WAAK,KAAK,EAAC,qBAAqB;QAC/B,EAAC,WAAW,OAAG,CACV,CACN,CAAC,CAAC,CAAC,CACH,WAAK,KAAK,EAAC,gCAAgC,EAAC,GAAG,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,OAAO,CAAC,MAAM,GAAI,CACxF;MACD,YAAM,KAAK,EAAC,kCAAkC,EAAC,KAAK,EAAE,EAAE,KAAK,EAAE,MAAA,OAAO,CAAC,SAAS,mCAAI,EAAE,EAAE,IACtF,OAAO,CAAC,MAAM,CACT;MACN,QAAQ;MACT,WAAK,KAAK,EAAC,sDAAsD,IAAE,IAAI,CAAC,OAAO,CAAO,CAChF,CACP,CAAC;EACH,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACD","sourcesContent":["import { Component, ComponentInterface, Element, h, Host, Prop } from '@stencil/core';\nimport { avatars, Profile, profiles } from '../../options';\nimport CommandIcon from '../svgs/command-icon';\n\n@Component({\n\ttag: 'discord-command',\n\tstyleUrl: 'discord-command.css'\n})\nexport class DiscordCommand implements ComponentInterface {\n\t/**\n\t * The DiscordCommand element.\n\t */\n\t@Element()\n\tpublic el: HTMLElement;\n\n\t/**\n\t * The id of the profile data to use.\n\t */\n\t@Prop()\n\tpublic profile: string;\n\n\t/**\n\t * The message author's username.\n\t * @default 'User'\n\t */\n\t@Prop()\n\tpublic author = 'User';\n\n\t/**\n\t * The message author's avatar. Can be an avatar shortcut, relative path, or external link.\n\t */\n\t@Prop()\n\tpublic avatar: string;\n\n\t/**\n\t * The message author's primary role color. Can be any [CSS color value](https://www.w3schools.com/cssref/css_colors_legal.asp).\n\t */\n\t@Prop()\n\tpublic roleColor: string;\n\n\t/**\n\t * The name of the command invoked.\n\t */\n\t@Prop()\n\tpublic command: string;\n\n\tpublic render() {\n\t\tconst parent: HTMLDiscordMessageElement = this.el.parentElement as HTMLDiscordMessageElement;\n\n\t\tif (parent.tagName.toLowerCase() !== 'discord-message') {\n\t\t\tthrow new Error('All <discord-command> components must be direct children of <discord-message>.');\n\t\t}\n\n\t\tconst resolveAvatar = (avatar: string): string => avatars[avatar] ?? avatar ?? avatars.default;\n\n\t\tconst defaultData: Profile = { author: this.author, bot: false, verified: false, server: false, roleColor: this.roleColor };\n\t\tconst profileData: Profile = Reflect.get(profiles, this.profile) ?? {};\n\t\tconst profile: Profile = { ...defaultData, ...profileData, ...{ avatar: resolveAvatar(profileData.avatar ?? this.avatar) } };\n\n\t\tconst messageParent: HTMLDiscordMessagesElement = parent.parentElement as HTMLDiscordMessagesElement;\n\n\t\treturn (\n\t\t\t<Host class=\"discord-replied-message discord-executed-command\">\n\t\t\t\t{messageParent.compactMode ? (\n\t\t\t\t\t<div class=\"discord-reply-badge\">\n\t\t\t\t\t\t<CommandIcon />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<img class=\"discord-replied-message-avatar\" src={profile.avatar} alt={profile.author} />\n\t\t\t\t)}\n\t\t\t\t<span class=\"discord-replied-message-username\" style={{ color: profile.roleColor ?? '' }}>\n\t\t\t\t\t{profile.author}\n\t\t\t\t</span>\n\t\t\t\t{' used '}\n\t\t\t\t<div class=\"discord-replied-message-content discord-command-name\">{this.command}</div>\n\t\t\t</Host>\n\t\t);\n\t}\n}\n"]}